CREATE TABLE article (id INT AUTO_INCREMENT, user_id INT NOT NULL, category_id INT NOT NULL, title VARCHAR(200), article_text MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_article_user1_idx (user_id), INDEX fk_article_category1_idx (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE category (id INT AUTO_INCREMENT, user_id INT, category_name VARCHAR(45), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_category_user1_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE comment (id INT AUTO_INCREMENT, user_id INT NOT NULL, comment MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_comment_user_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE play_it (id INT AUTO_INCREMENT, user_id INT NOT NULL, play_list_id INT, name VARCHAR(100), description MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_play_it_user1_idx (user_id), INDEX play_list_id_idx (play_list_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE play_list (id INT AUTO_INCREMENT, user_id INT NOT NULL, play_owner_id INT, object_type VARCHAR(45), title VARCHAR(100), description MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_play_list_user1_idx (user_id), INDEX play_owner_id_idx (play_owner_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE play_owner (id INT AUTO_INCREMENT, user_id INT NOT NULL, name VARCHAR(100), picture VARCHAR(45), site_web VARCHAR(45), description MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_play_owner_user1_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE report (id INT AUTO_INCREMENT, user_id INT NOT NULL, comment_id INT, play_it_id INT, play_list_id INT, play_owner_id INT, article_id INT, video_id INT, report_user_id INT, category_id INT, title VARCHAR(200), message MEDIUMTEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_report_user1_idx (user_id), INDEX fk_report_comment1_idx (comment_id), INDEX fk_report_play_it1_idx (play_it_id), INDEX fk_report_play_list1_idx (play_list_id), INDEX fk_report_play_owner1_idx (play_owner_id), INDEX fk_report_article1_idx (article_id), INDEX fk_report_video1_idx (video_id), INDEX fk_report_user2_idx (report_user_id), INDEX fk_report_category1_idx (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE user (id INT AUTO_INCREMENT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE video (id INT AUTO_INCREMENT, user_id INT NOT NULL, url VARCHAR(255), video_type VARCHAR(45), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX fk_video_user1_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
ALTER TABLE article ADD CONSTRAINT article_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE article ADD CONSTRAINT article_category_id_category_id FOREIGN KEY (category_id) REFERENCES category(id);
ALTER TABLE category ADD CONSTRAINT category_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE comment ADD CONSTRAINT comment_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE play_it ADD CONSTRAINT play_it_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE play_it ADD CONSTRAINT play_it_play_list_id_play_list_id FOREIGN KEY (play_list_id) REFERENCES play_list(id);
ALTER TABLE play_list ADD CONSTRAINT play_list_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE play_list ADD CONSTRAINT play_list_play_owner_id_play_owner_id FOREIGN KEY (play_owner_id) REFERENCES play_owner(id);
ALTER TABLE play_owner ADD CONSTRAINT play_owner_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE report ADD CONSTRAINT report_video_id_video_id FOREIGN KEY (video_id) REFERENCES video(id);
ALTER TABLE report ADD CONSTRAINT report_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
ALTER TABLE report ADD CONSTRAINT report_report_user_id_user_id FOREIGN KEY (report_user_id) REFERENCES user(id);
ALTER TABLE report ADD CONSTRAINT report_play_owner_id_play_owner_id FOREIGN KEY (play_owner_id) REFERENCES play_owner(id);
ALTER TABLE report ADD CONSTRAINT report_play_list_id_play_list_id FOREIGN KEY (play_list_id) REFERENCES play_list(id);
ALTER TABLE report ADD CONSTRAINT report_play_it_id_play_it_id FOREIGN KEY (play_it_id) REFERENCES play_it(id);
ALTER TABLE report ADD CONSTRAINT report_comment_id_comment_id FOREIGN KEY (comment_id) REFERENCES comment(id);
ALTER TABLE report ADD CONSTRAINT report_category_id_category_id FOREIGN KEY (category_id) REFERENCES category(id);
ALTER TABLE report ADD CONSTRAINT report_article_id_article_id FOREIGN KEY (article_id) REFERENCES article(id);
ALTER TABLE video ADD CONSTRAINT video_user_id_user_id FOREIGN KEY (user_id) REFERENCES user(id);
